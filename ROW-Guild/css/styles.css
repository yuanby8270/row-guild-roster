/* style.css */

/* RO World Style Background */
body { 
    background-color: #A3D8F4; 
    background: linear-gradient(180deg, #87CEFA 0%, #E0F7FA 100%);
    color: #334155; 
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; 
    -webkit-tap-highlight-color: transparent; 
    overflow-x: hidden;
}

/* Animated Clouds Background */
.bg-clouds {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: -1;
    /* 這裡使用一個小的白色 SVG 點陣圖作為雲朵圖案 */
    background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M20,60 Q30,50 40,60 T60,60 T80,60' fill='none' stroke='white' stroke-width='2' opacity='0.4'/%3E%3C/svg%3E");
    background-size: 200px 200px;
    animation: cloudMove 60s linear infinite;
}

/* 避免行動裝置字體縮放問題 */
input, select, textarea { font-size: 16px !important; }

/* --- 職業配色 (為支援 app.js 的新結構進行了調整) --- */
.bg-job-knight, .bg-job-騎士 { background-color: #ff9999; color: #7f1d1d; }
.bg-job-crusader, .bg-job-十字軍 { background-color: #ff6666; color: #450a0a; }
.bg-job-blacksmith, .bg-job-鐵匠 { background-color: #ffcc99; color: #7c2d12; }
.bg-job-hunter, .bg-job-獵人 { background-color: #ffff99; color: #713f12; }
.bg-job-bard, .bg-job-詩人 { background-color: #ffcc00; color: #713f12; }
.bg-job-alchemist, .bg-job-煉金 { background-color: #ff9933; color: #431407; }
.bg-job-priest, .bg-job-神官 { background-color: #ccffcc; color: #064e3b; }
.bg-job-monk, .bg-job-武僧 { background-color: #99cc99; color: #064e3b; }
.bg-job-wizard, .bg-job-巫師 { background-color: #ccffff; color: #0c4a6e; }
.bg-job-sage, .bg-job-賢者 { background-color: #66ccff; color: #0c4a6e; }
.bg-job-gunslinger, .bg-job-槍手 { background-color: #ffccff; color: #831843; }
.bg-job-dancer, .bg-job-舞孃 { background-color: #ff66cc; color: #500724; }
.bg-job-assassin, .bg-job-刺客 { background-color: #e6ccff; color: #581c87; }
.bg-job-rogue, .bg-job-流氓 { background-color: #b366ff; color: #3b0764; }
.bg-job-default, .bg-job-初心者 { background-color: #cbd5e1; color: #475569; }

/* UI Elements */
.card { 
    background: white; border: 1px solid #bfdbfe; border-radius: 12px; overflow: hidden;
    transition: transform 0.1s, box-shadow 0.1s; display: flex; align-items: stretch; height: 95px;
    box-shadow: 0 4px 6px -1px rgba(59, 130, 246, 0.1);
}
.card:active { transform: scale(0.96); }

.job-stripe { width: 6px; flex-shrink: 0; }
.job-icon-area { width: 60px; display: flex; align-items: center; justify-content: center; font-size: 1.8rem; flex-shrink: 0; background-color: #f0f9ff; border-right: 1px solid #e0f2fe; }

.tag { font-size: 0.7rem; padding: 2px 6px; border-radius: 4px; font-weight: bold; margin-left: 4px; }
.tag-dps { background: #fee2e2; color: #991b1b; }
.tag-sup { background: #dcfce7; color: #166534; }
.tag-tank { background: #dbeafe; color: #1e40af; }
.tag-default { background: #f1f5f9; color: #475569; }

.rank-badge { font-size: 0.6rem; padding: 1px 4px; border-radius: 3px; font-weight: bold; text-transform: uppercase; margin-right: 4px; border: 1px solid transparent; }
.rank-master { background: #fef3c7; color: #b45309; border-color: #fcd34d; }
.rank-commander { background: #fee2e2; color: #b91c1c; border-color: #fca5a5; }
.rank-admin { background: #e0e7ff; color: #4338ca; border-color: #a5b4fc; }
.rank-member { display: none; }

.member-no { position: absolute; top: 0; right: 0; background-color: #e0f2fe; color: #64748b; font-size: 0.65rem; padding: 2px 6px; border-bottom-left-radius: 8px; font-family: monospace; }
.modal-overlay { z-index: 100 !important; }
.scroll-hide::-webkit-scrollbar { display: none; }

.nav-pill { 
    padding: 8px 16px; font-weight: 700; color: #64748b; border-radius: 20px; 
    transition: all 0.2s; white-space: nowrap; font-size: 0.9rem;
    background: rgba(255,255,255,0.5);
}
.nav-pill.active { background-color: #3b82f6; color: white; shadow: 0 4px 6px -1px rgba(59, 130, 246, 0.3); }

.copy-tooltip { position: relative; cursor: pointer; }
.copy-tooltip::after { content: "已複製"; position: absolute; top: -30px; left: 50%; transform: translateX(-50%); background: #334155; color: white; padding: 4px 8px; border-radius: 4px; font-size: 12px; opacity: 0; transition: opacity 0.2s; pointer-events: none; white-space: nowrap; z-index: 10; }
.copy-tooltip.copied::after { opacity: 1; }

.admin-mode-on { color: #3b82f6 !important; background-color: #eff6ff; border: 1px solid #bfdbfe !important; }
.locked-field { opacity: 0.6; cursor: not-allowed; background-color: #f1f5f9; }

/* --- Game Style Home Page --- */
.game-container {
    background: rgba(255, 255, 255, 0.6);
    backdrop-filter: blur(10px);
    border-radius: 20px;
    padding: 20px;
    box-shadow: 0 8px 32px rgba(31, 38, 135, 0.15);
    border: 2px solid rgba(255, 255, 255, 0.8);
    position: relative;
    overflow: hidden;
}

.mascot-wrapper { position: relative; width: 280px; height: 200px; margin: 0 auto; z-index: 10; }

/* Game Menu Buttons */
.ro-menu-btn {
    position: relative;
    background: linear-gradient(180deg, #FDFBF7 0%, #D4D4D4 100%);
    border: 2px solid #78350F; /* Wood brown border */
    border-radius: 12px;
    box-shadow: 
        inset 0 2px 0 rgba(255,255,255,0.8),
        0 4px 0 #5D2E0E, /* 3D Depth */
        0 6px 10px rgba(0,0,0,0.2);
    height: 80px;
    display: flex;
    align-items: center;
    padding: 0 20px;
    margin-bottom: 16px;
    transition: all 0.1s;
    cursor: pointer;
}
.ro-menu-btn:active {
    transform: translateY(4px);
    box-shadow: 0 0 0 #5D2E0E;
}
.ro-menu-btn .icon-box {
    width: 48px; height: 48px;
    background: linear-gradient(135deg, #60A5FA 0%, #2563EB 100%);
    border: 2px solid #93C5FD;
    border-radius: 8px;
    display: flex; align-items: center; justify-content: center;
    margin-right: 15px;
    box-shadow: inset 0 0 10px rgba(0,0,0,0.3);
    color: white; font-size: 24px;
}
/* Variant colors */
.btn-gvg .icon-box { background: linear-gradient(135deg, #F87171 0%, #DC2626 100%); border-color: #FECACA; }
.btn-grp .icon-box { background: linear-gradient(135deg, #4ADE80 0%, #16A34A 100%); border-color: #BBF7D0; }

.ro-menu-btn h3 { font-size: 1.2rem; font-weight: 900; color: #451a03; text-shadow: 0 1px 0 rgba(255,255,255,0.8); margin: 0; }
.ro-menu-btn p { font-size: 0.75rem; color: #78350f; margin: 0; font-weight: bold; }

/* Poring Decoration */
.poring-deco {
    position: absolute;
    bottom: 10px;
    width: 40px; height: 35px;
    background: #FCA5A5;
    border-radius: 50% 50% 45% 45%;
    border: 2px solid #B91C1C;
    animation: poringJump 1s infinite alternate; /* 注意：這裡的動畫名稱已修正為 poringJump 以匹配 tailwind.config */
    z-index: 5;
}
.poring-deco::before { /* Eyes */
    content: ''; position: absolute; top: 10px; left: 8px; width: 4px; height: 8px; background: #7F1D1D; border-radius: 50%;
    box-shadow: 20px 0 0 #7F1D1D;
}
.poring-deco::after { /* Mouth */
    content: ''; position: absolute; top: 22px; left: 16px; width: 8px; height: 4px; 
    border-bottom: 2px solid #7F1D1D; border-radius: 50%;
}

.drops-deco {
    background: #FDBA74; border-color: #C2410C;
    width: 35px; height: 30px;
    left: 20px;
    animation-delay: 0.5s;
}
.poporing-deco {
    background: #86EFAC; border-color: #15803D;
    right: 20px;
    animation-delay: 0.2s;
}
/* --- GVG 視覺優化新增的樣式 (保留原樣) --- */
.squad-card-gvg {
    background: #fdfcf9; /* 淺米白 */
    border: 3px solid #78350F; /* 木紋棕邊框 */
    border-radius: 10px;
    box-shadow: 0 4px 0 #5D2E0E, 0 8px 15px rgba(0,0,0,0.2); /* 3D 效果 */
    position: relative;
    transition: transform 0.2s;
}
.squad-card-gvg:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 0 #5D2E0E, 0 10px 20px rgba(0,0,0,0.3);
}

.squad-card-gvg .header {
    background: linear-gradient(180deg, #FEE2E2 0%, #FCA5A5 100%); /* 戰鬥紅漸變 */
    border-bottom: 2px solid #F87171;
    color: #991B1B; /* 深紅文字 */
}

/* 職業定位標籤 */
.role-badge-dps { background: #FCA5A5; color: #991B1B; padding: 2px 6px; border-radius: 4px; font-weight: bold; }
.role-badge-sup { background: #BBF7D0; color: #065F46; padding: 2px 6px; border-radius: 4px; font-weight: bold; }
.role-badge-tank { background: #BFDBFE; color: #1E40AF; padding: 2px 6px; border-radius: 4px; font-weight: bold; }
.role-badge-pending { background: #e5e7eb; color: #4b5563; padding: 2px 6px; border-radius: 4px; font-weight: bold; }

/* 狀態指示燈 */
.status-confirmed { color: #34D399; } /* 綠色 */
.status-pending { color: #F87171; } /* 紅色 */