/* style.css - Final UI Polish & Dynamic Colors */

/* --- 全域設定 --- */
body { 
    background-color: #e2e8f0; 
    color: #334155; 
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; 
    -webkit-tap-highlight-color: transparent; 
    overflow-x: hidden;
}

input, select, textarea { font-size: 16px !important; }
.scroll-hide { -ms-overflow-style: none; scrollbar-width: none; }
.scroll-hide::-webkit-scrollbar { display: none; }

/* --- 分頁選單 (Nav Pills) 動態顏色 --- */
.nav-pill { 
    padding: 8px 16px; font-weight: 700; color: #64748b; border-radius: 20px; 
    transition: all 0.2s; white-space: nowrap; font-size: 0.9rem;
    background: rgba(255,255,255,0.8);
}

/* 預設 active (首頁) */
.nav-pill.active { background-color: #3b82f6; color: white; box-shadow: 0 4px 10px -2px rgba(59, 130, 246, 0.4); }

/* 各分頁專屬顏色 (由 JS 動態添加 class 或 ID 觸發) */
#tab-members.active { background-color: #3b82f6; box-shadow: 0 4px 10px -2px rgba(59, 130, 246, 0.4); } /* Blue */
#tab-gvg.active { background-color: #ef4444; box-shadow: 0 4px 10px -2px rgba(239, 68, 68, 0.4); } /* Red */
#tab-leave.active { background-color: #f97316; box-shadow: 0 4px 10px -2px rgba(249, 115, 22, 0.4); } /* Orange */
#tab-groups.active { background-color: #22c55e; box-shadow: 0 4px 10px -2px rgba(34, 197, 94, 0.4); } /* Green */
#tab-activity.active { background-color: #eab308; box-shadow: 0 4px 10px -2px rgba(234, 179, 8, 0.4); } /* Yellow */


/* --- 統一卡片風格 (White Card) --- */
.card, .menu-card, .squad-card, .activity-card {
    background: white;
    border-radius: 16px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.02);
    border: 1px solid #f1f5f9; /* 預設細邊框 */
    overflow: hidden;
    transition: transform 0.1s, box-shadow 0.1s;
    position: relative;
}

/* 成員卡片專屬設定 */
.member-card {
    display: flex;
    align-items: stretch;
    min-height: 95px;
    border-left-width: 4px; /* 左側職業色條 */
}
.member-card:active { transform: scale(0.98); }

/* 職業顏色 (用於左側邊框) */
.border-job-knight, .border-job-騎士 { border-left-color: #ff9999; }
.border-job-crusader, .border-job-十字軍 { border-left-color: #ff6666; }
.border-job-blacksmith, .border-job-鐵匠 { border-left-color: #ffcc99; }
.border-job-hunter, .border-job-獵人 { border-left-color: #ffff99; }
.border-job-bard, .border-job-詩人 { border-left-color: #ffcc00; }
.border-job-alchemist, .border-job-煉金 { border-left-color: #ff9933; }
.border-job-priest, .border-job-神官 { border-left-color: #ccffcc; }
.border-job-monk, .border-job-武僧 { border-left-color: #99cc99; }
.border-job-wizard, .border-job-巫師 { border-left-color: #ccffff; }
.border-job-sage, .border-job-賢者 { border-left-color: #66ccff; }
.border-job-gunslinger, .border-job-槍手 { border-left-color: #ffccff; }
.border-job-dancer, .border-job-舞孃 { border-left-color: #ff66cc; }
.border-job-assassin, .border-job-刺客 { border-left-color: #e6ccff; }
.border-job-rogue, .border-job-流氓 { border-left-color: #b366ff; }
.border-job-default, .border-job-初心者 { border-left-color: #cbd5e1; }

/* 職業圖示區塊 (淺色背景) */
.job-icon-box {
    width: 60px;
    display: flex; align-items: center; justify-content: center;
    font-size: 1.8rem;
    background-color: #f8fafc;
    border-right: 1px solid #f1f5f9;
    color: #64748b; /* 圖示顏色統一灰藍 */
}

/* 隊伍卡片 */
.squad-card {
    min-height: 120px;
    display: flex; flex-direction: column;
}
.squad-card .header { background: #f8fafc; border-bottom: 1px solid #f1f5f9; padding: 12px 16px; }

/* 標籤 */
.tag { font-size: 0.7rem; padding: 2px 6px; border-radius: 4px; font-weight: bold; margin-left: 4px; }
.tag-dps { background: #fee2e2; color: #991b1b; }
.tag-sup { background: #dcfce7; color: #166534; }
.tag-tank { background: #dbeafe; color: #1e40af; }

/* 按鈕 & 狀態燈 */
.filter-btn { white-space: nowrap !important; flex-shrink: 0 !important; }
.status-light { width: 24px; height: 24px; border-radius: 50%; border: 2px solid white; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
.status-light.unclaimed { background-color: #ef4444; animation: pulse-red 2s infinite; }
.status-light.claimed { background-color: #22c55e; }
.gvg-light { width: 20px; height: 20px; border-radius: 50%; border: 1px solid rgba(0,0,0,0.05); cursor: pointer; transition: all 0.2s; margin-left: 5px; opacity: 0.2; filter: grayscale(100%); }
.gvg-light:hover { opacity: 0.8; transform: scale(1.1); }
.gvg-light.active { opacity: 1; filter: grayscale(0%); box-shadow: 0 0 10px currentColor; border-color: white; transform: scale(1.1); }
.bg-light-red { background-color: #ef4444; color: #ef4444; }
.bg-light-green { background-color: #22c55e; color: #22c55e; }
.bg-light-yellow { background-color: #fbbf24; color: #fbbf24; }

/* 其他 */
.modal-overlay { z-index: 100 !important; }
.admin-mode-on { color: #3b82f6 !important; background-color: #eff6ff; border: 1px solid #bfdbfe !important; }
@keyframes fadeInOpacity { 0% { opacity: 0; transform: translateY(10px); } 100% { opacity: 1; transform: translateY(0); } }
.animate-fade-in { animation: fadeInOpacity 0.4s ease-out forwards; }
@keyframes pulse-red { 0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4); } 70% { box-shadow: 0 0 0 6px rgba(239, 68, 68, 0); } 100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); } }
@media (max-width: 640px) { .nav-pill { padding: 6px 12px; font-size: 0.8rem; } }